<app-actionbar></app-actionbar>
<GridLayout rows="*, 100" [class.dialogOpen]="dialogOpen">
  <ListView [items]="todoItems" row="0" col="0" class="content">
    <ng-template let-item="item">
      <StackLayout
        (swipe)="deleteTodo(item.key)"
        (tap)="toggleTodo(item.key)"
        (longPress)="editTodo(item.key)"
      >
        <Label textWrap="false" textAlignment="center" class="label">
          <FormattedString>
            <span
              [text]="item.title"
              textDecoration="{{ item.completed ? 'line-through' : '' }}"
            ></span>
          </FormattedString>
        </Label>
      </StackLayout>
    </ng-template>
  </ListView>
  <StackLayout row="1" col="0" horizontalAlignment="center" class="content">
    <FAB
      text="âž•"
      rippleColor="#f1f1f1"
      class="fab-button"
      (tap)="showDialog()"
    ></FAB>
  </StackLayout>
  <app-modal
    *ngIf="dialogOpen"
    [model]="todo"
    (onCancel)="closeDialog()"
    (onSubmit)="addOrUpdate($event)"
  ></app-modal>
</GridLayout>
